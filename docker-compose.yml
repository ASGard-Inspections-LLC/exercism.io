app:
  build: .
  links:
    - db
  env_file: .env
  entrypoint: ruby docker/entrypoint.rb
  command: rackup -s puma -p 4567 --host 0.0.0.0
  volumes:
    - .:/exercism
  ports:
    - "4567:4567"
  environment:
    DEV_DATABASE_HOST: db
    HOST_USER: $USER
db:
  image: postgres:9.4
  environment:
    POSTGRES_DB: exercism_development
    POSTGRES_USER: exercism
    POSTGRES_PASSWORD: apples

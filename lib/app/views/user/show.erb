<div class="container">
  <section class="page-header">
    <h1><%= profile.username %></h1>
  </section>
  <div class="row">
    <div class="col-md-12">
      <% unless profile.narcissistic? %>
        <p>GitHub Profile: <%= profile.github_link %></p>
        <p>You will only be able to see <%= profile.username %>'s solutions to problems that you have completed yourself, indicated by stars <i class="fa fa-star"></i>. Otherwise, you'll find a Readme and test suite.</p>
      <% end %>
      <h3>Exercises</h3>
      <h4>Current</h4> 
      <% if profile.has_current_submissions? %>
        <%= erb :"user/_exercises_table", locals: { profile: profile, exercises: profile.current } %>
      <% else %>
        <p><%= profile.no_current_submissions_message %></p>
      <% end %>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <h4>Completed</h4>
      <% if profile.has_completed_submissions? %>
        <table class="table table-bordered table-striped">
          <col width="25%" />
          <col width="75%" />
          <thead>
            <tr>
              <th>Exercises</th>
              <th>Language</th>
            </tr>
          </thead>
          <tbody>
            <% profile.track_ids.each do |track_id| %>
              <tr>
                <td>
                  <% profile.completed_in(track_id).each do |submission| %>
                    <%= profile.submission_link(submission) %><br/>
                  <% end %>
                </td>
                <td><%= Language.of(track_id) %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      <% else %>
        <p><%= profile.no_completed_submissions_message %></p>
      <% end %>
    </div>
  </div>
</div>